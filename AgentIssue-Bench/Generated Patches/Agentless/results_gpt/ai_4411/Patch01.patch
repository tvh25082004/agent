diff --git a/examples/next-fastapi/api/index.py b/examples/next-fastapi/api/index.py
index a2ed7fb..0e2d2cc 100644
--- a/examples/next-fastapi/api/index.py
+++ b/examples/next-fastapi/api/index.py
@@ -14,9 +14,10 @@ load_dotenv(".env.local")
 
 app = FastAPI()
 
-client = OpenAI(
-    api_key=os.environ.get("OPENAI_API_KEY"),
-)
+def get_openai_client():
+    return OpenAI(
+        api_key=os.environ.get("OPENAI_API_KEY"),
+    )
 
 
 class Request(BaseModel):
@@ -29,6 +30,7 @@ available_tools = {
 
 
 def stream_text(messages: List[ClientMessage], protocol: str = 'data'):
+    client = get_openai_client()
     stream = client.chat.completions.create(
         messages=messages,
         model="gpt-4o",