diff --git a/agixt/Chain.py b/agixt/Chain.py
index 293e1c5..92a2171 100644
--- a/agixt/Chain.py
+++ b/agixt/Chain.py
@@ -78,15 +78,15 @@ class Chain:
 
             and optionally a specific conversation's details.
         """
         try:
-            # Initialize auth manager with provided token
             user = await get_user_from_context(info)
+            auth_manager = magical
 
             async def get_app_state():
                 # Get user 
                    user_details = await auth_manager.get_user_details(user['user_id'])